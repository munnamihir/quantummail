<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>QuantumMail</title>
  <style>
    body { font-family: Arial, sans-serif; width: 340px; margin: 0; padding: 12px; }
    .row { margin-bottom: 10px; }
    label { font-size: 12px; color: #444; display:block; margin-bottom:4px; }
    input { width: 100%; padding: 8px; box-sizing: border-box; }
    button { padding: 8px 10px; cursor: pointer; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
    .muted { color:#666; font-size: 12px; }
    .status { font-size: 12px; margin: 8px 0; }
    .ok { color: #0a7a0a; }
    .err { color: #b00020; }
    textarea { width: 100%; height: 80px; }
    hr { border: none; border-top: 1px solid #eee; margin: 12px 0; }
    .small { font-size: 11px; color:#777; }
  </style>
</head>
<body>
  <div class="row">
    <div class="muted"><b>QuantumMail Enterprise</b> (Model B)</div>
    <div id="status" class="status muted">Loading...</div>
  </div>

  <div class="row">
    <label>API Base</label>
    <input id="apiBase" placeholder="https://<codespace>-5173.app.github.dev" />
  </div>

  <div class="row">
    <label>Org ID</label>
    <input id="orgId" placeholder="org_demo" />
  </div>

  <hr />

  <div id="authBlock">
    <div class="row">
      <label>Username</label>
      <input id="username" placeholder="alice" />
    </div>
    <div class="row">
      <label>Password</label>
      <input id="password" type="password" placeholder="••••••••" />
    </div>

    <div class="grid row">
      <button id="saveSettings">Save Settings</button>
      <button id="loginBtn">Login</button>
    </div>
  </div>

  <div id="authedBlock" style="display:none;">
    <div class="row muted">You are logged in.</div>
    <div class="grid row">
      <button id="saveSettings2">Save Settings</button>
      <button id="logoutBtn">Logout</button>
    </div>
  </div>

  <hr />

  <div class="row">
    <button id="encryptSelectionBtn" style="width:100%;">Encrypt selection in Gmail</button>
    <div class="small">Select text in Gmail compose, then click this.</div>
  </div>

  <div class="row">
    <label>Decrypt a link (paste)</label>
    <input id="linkInput" placeholder="https://.../m/<id>" />
    <button id="decryptBtn" style="width:100%; margin-top:8px;">Decrypt link</button>
  </div>

  <div class="row">
    <label>Plaintext</label>
    <textarea id="plaintext" readonly></textarea>
  </div>

  <script src="popup.js"></script>
</body>
</html>
